<!doctype html>
<html lang="en">
	<head>
			<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width,initial-scale=1" />
		<title>Example Form with CAPTCHA</title>
			<style nonce="{{ g.csp_nonce|default('') }}">
				:root { --bg:#f6f7fb; --text:#0f172a; --muted:#6b7280; --border:#e5e7eb; --primary:#2563eb; --primary-600:#1d4ed8; --error-bg:#fef2f2; --error-border:#fecaca; --error:#b91c1c; }
				* { box-sizing: border-box; }
				body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; margin: 0; background: var(--bg); color: var(--text); }
				.container { max-width: 520px; margin: 6vh auto; padding: 0 1rem; }
				.card { background: #fff; border: 1px solid var(--border); border-radius: 12px; box-shadow: 0 6px 24px rgba(15,23,42,.06); overflow: hidden; }
				.card-header { padding: 1.25rem 1.25rem 0; }
				.card-title { margin: 0; font-size: 1.25rem; font-weight: 700; }
				.card-subtitle { margin: .25rem 0 1rem; color: var(--muted); font-size: .95rem; }
				.card-body { padding: 1.25rem; }
				.form-field { margin-bottom: 1rem; }
				.label { display: block; font-weight: 600; margin-bottom: 0.375rem; }
				.input { width: 100%; padding: .625rem .75rem; border: 1px solid var(--border); border-radius: 10px; background: #fff; color: var(--text); outline: none; transition: border-color .2s, box-shadow .2s; }
				.input:focus { border-color: var(--primary); box-shadow: 0 0 0 3px rgba(37,99,235,.15); }
				.help { color: var(--muted); font-size: .875rem; margin-top: .375rem; }
				.error { background: var(--error-bg); border: 1px solid var(--error-border); color: var(--error); padding: .75rem; border-radius: 10px; margin: 0 0 1rem; }
				.captcha-wrap { display: flex; align-items: center; gap: .75rem; }
				.captcha-image { border: 1px solid var(--border); border-radius: 8px; background: #fff; }
				.actions { display: flex; gap: .75rem; align-items: center; margin-top: 1rem; }
				.btn { appearance: none; border: none; border-radius: 10px; padding: .65rem 1rem; font-weight: 600; cursor: pointer; transition: transform .02s ease-in, background .2s; }
				.btn:active { transform: translateY(1px); }
				.btn-primary { background: var(--primary); color: #fff; }
				.btn-primary:hover { background: var(--primary-600); }
				.link { color: var(--primary); text-decoration: none; font-weight: 600; }
				.link:hover { text-decoration: underline; }
			</style>
	</head>
	<body>
		<div class="container">
			<div class="card" role="form" aria-labelledby="verif_title">
				<div class="card-header">
					<h1 id="verif_title" class="card-title">Verification</h1>
					<p class="card-subtitle">Help us confirm youâ€™re human by solving the CAPTCHA below.</p>
				</div>
				<div class="card-body">
					{% if error_message %}
					<div class="error" role="alert" aria-live="assertive">
						<strong>There was a problem:</strong> {{ error_message }}
					</div>
					{% endif %}

					<form method="post" action="{{ url_for('submit') }}" novalidate>
						<input type="hidden" name="csrf_token" value="{{ csrf_token }}" />

						<div class="form-field">
							<label class="label" for="captcha_answer">Type the characters you see</label>
							<div class="captcha-wrap">
								<img
									class="captcha-image"
									src="{{ url_for('captcha_image', captcha_id=captcha_id) }}"
									alt="CAPTCHA image with distorted letters to type in the field"
									width="240"
									height="80"
								/>
								<a class="link" href="{{ url_for('index') }}" aria-label="Get a new CAPTCHA image">Get a new image</a>
							</div>
							<input
								class="input"
								id="captcha_answer"
								name="captcha_answer"
								type="text"
								inputmode="text"
								autocomplete="off"
								aria-describedby="captcha_help"
								required
							/>
							<div id="captcha_help" class="help">Letters are not case-sensitive. If you cannot read the image, get a new one.</div>
							<input type="hidden" name="captcha_id" value="{{ captcha_id }}" />
						</div>

						<div class="actions">
							<button class="btn btn-primary" type="submit">Submit</button>
						</div>
					</form>
				</div>
			</div>
		</div>
	</body>
</html>